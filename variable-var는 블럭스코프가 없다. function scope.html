<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <form action="">
    관심분야(3개까지만 체크해 주셤)<br>
    4번째껀 체크가 안됨, 1개 지우면 다른 거 체크 가능<br>
    제한: 태그내에 onclick을 쓰지 말고 addEventListener<br>
    <hr>
    HTML<input type="checkbox" name="nm_cat" value="html">
    CSS<input type="checkbox" name="nm_cat" value="css">
    JS<input type="checkbox" name="nm_cat" value="js">
    JAVA<input type="checkbox" name="nm_cat" value="java">
    MongoDB<input type="checkbox" name="nm_cat" value="mongodb">
    Spring<input type="checkbox" name="nm_cat" value="spring">
  </form>    
</body>
  <script>
    var v_cnt =0;
    var v_ckboxs = document.getElementsByName("nm_cat");
    // 이벤트 등록
    // var는 전역 스코프 아니면 function scope. 블럭스코프가 없다. (자바는 있는뎅...)
    for(var i=0; i<v_ckboxs.length; i++){// 따라서 이건 전역스코프임
      //var의 값이 문제 될 때, 항상 함수를 맹글어서
      //매개변수로 넘긴당
      /* v_ckboxs[i].addEventListener("click",function(){
        alert("클릭 넘버" + i);
      });
      */
      f_var(v_ckboxs[i],i);
    }
    function f_var(p_item,p_index){
      p_item.addEventListener("click",function(){
        alert("클릭 넘버:" + p_index);
      })
    }
      
    function f_check(){
      console.log(this); //this값 확인
      if(this.checked){  // 체크가 될 때
        v_cnt++;
      }
      if(!this.checked){ // 체크가 해제될때
        v_cnt--;
      }
      if(v_cnt > 3){
        this.checked = false; // 체크해제
        v_cnt--;
      }
    }

  </script>
</html>